{# Cart preview #}
<div id="cart-preview" class=" container bg-white border-left" 
style="
  position: fixed; 
  right: -999px; 
  z-index: 1030; 
  width: 400px; 
  min-height: 100vh; 
  transition: right 0.5s ease;"
>
  
  <h3>Your Cart
    <button type="button" class="close" href="javascript:void(0)" onclick="toggleCart()">
      <span >&times;</span>
    </button>
  </h3>

  {# Items #}
  <div class="list-group list-group-flush">
    {% comment %}
    {% for item in items %}
    --- code
    {% endfor %}
    {% endcomment %}

    {# Item pic, text and quantity #}
    <div class="list-group-item d-flex flex-row bg-white">
      <div class="p-2">
        <img src="https://picsum.photos/200" height="50px">
      </div>
      <div class="p-2" style="width:130px;">
        Chicken
      </div>

      <div class="p-2"><input type="number" value="2" style="width:50px;"></div>

      {# Remove from cart #}
      <div class="ml-auto align-self-start">
      <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-x-square" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
        <path fill-rule="evenodd" d="M14 1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"/>
        <path fill-rule="evenodd" d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>
      </svg>
      </div>
    </div>
  </div>

  {# Total and checkout #}
  <div>
  Checkout
  </div>
  
</div>

<script>
  function toggleCart() {
    var navbar = document.getElementById("the-header");
    var cart = document.getElementById("cart-preview");
    var cartWidth = parseInt(cart.style.width);
    if (parseInt(cart.style.right) < 0) { 
      cart.style.right = "0";
      navbar.style.right = String(cartWidth) + "px";
    } else { 
      cart.style.right = String(-cartWidth) + "px";
      navbar.style.right = "0";
    }
  }

  function clickOfCart(e) {
    // Get viewport width
    var vw = Math.max(document.documentElement.clientWidth || 0, window.innerWidth || 0)
    var cart = document.getElementById("cart-preview").style // Cart preview panel

    if (parseInt(cart.right) < 0) { return; } // If it is closed return

    // Else toggle it down if user clicks off it
    if (!((-vw + e.clientX) > (parseInt(cart.right) - parseInt(cart.width)))) {
      toggleCart();
    }
  }

  document.addEventListener("click", clickOfCart);

</script>
